import streamlit as st
import pickle
import pandas as pd
import numpy as np

with open('pricepredictmodel','rb') as f:
    mp = pickle.load(f)
X=pd.read_csv('X.csv')
def predict_price(location, size):
    loc_index = np.where(X.columns == location)[0][0]
    x = np.zeros(len(X.columns))
    x[0] = size

    if loc_index >= 0:
        x[loc_index] = 1
    return mp.predict([x])[0]


def show_predict_page():
    st.title("Dubai Rent Predictor")
    st.write("""#We need some information to predict the rent""")
    places=("21st Century Tower, Sheikh Zayed Road, Dubai","5242 Towers, Dubai Marina, Dubai","A A Tower, Sheikh Zayed Road, Dubai","AG Tower, Business Bay, Dubai","Aayah Residences, JVC District 12, Jumeirah Village Circle (JVC), Dubai","Abdul Wahed Bin Shabib Building, Arjan, Dubai","Abu Hail, Deira, Dubai","Ahmed Al Abdulla Residence, Arjan, Dubai","Ajyad Building, JVC District 10, Jumeirah Village Circle (JVC), Dubai","Al Amir Building, Arjan, Dubai","Al Awir, Dubai","Al Baraha, Deira, Dubai","Al Barsha 1, Al Barsha, Dubai","Al Barsha 2, Al Barsha, Dubai","Al Barsha 3, Al Barsha, Dubai","Al Barsha South 1, Al Barsha South, Al Barsha, Dubai","Al Barsha South 2, Al Barsha South, Al Barsha, Dubai","Al Barsha South 3, Al Barsha South, Al Barsha, Dubai","Al Barsha South, Al Barsha, Dubai","Al Barsha, Dubai","Al Das, Shoreline Apartments, Palm Jumeirah, Dubai","Al Garhoud, Dubai","Al Habtoor Tower, Dubai Marina, Dubai","Al Hamriya Building, Al Hamriya, Bur Dubai, Dubai","Al Hamriya, Bur Dubai, Dubai","Al Hudaiba Mall, Al Hudaiba, Dubai","Al Hudaiba, Dubai","Al Jaddaf, Dubai","Al Karama Building, Al Karama, Dubai","Al Karama, Dubai","Al Khail Gate, Al Quoz Industrial Area 2, Al Quoz Industrial Area, Al Quoz, Dubai","Al Khail Heights, Al Quoz 4, Al Quoz, Dubai","Al Khawaneej 1, Al Khawaneej, Dubai","Al Khawaneej 2, Al Khawaneej, Dubai","Al Khawaneej, Dubai","Al Mamzar, Dubai","Al Manal Tower, Sheikh Zayed Road, Dubai","Al Mankhool Building, Al Mankhool, Bur Dubai, Dubai","Al Mankhool, Bur Dubai, Dubai","Al Muraqqabat, Deira, Dubai","Al Murar, Deira, Dubai","Al Muteena, Deira, Dubai","Al Nahda (Dubai), Dubai","Al Nahda 1, Al Nahda (Dubai), Dubai","Al Nahda 2, Al Nahda (Dubai), Dubai","Al Qusais 1, Al Qusais Residential Area, Al Qusais, Dubai","Al Qusais, Dubai","Al Raffa, Bur Dubai, Dubai","Al Rigga, Deira, Dubai","Al Sahab Tower 2, Al Sahab Tower, Dubai Marina, Dubai","Al Satwa, Dubai","Al Sayyah Residence, Arjan, Dubai","Al Shafar Tower, Business Bay, Dubai","Al Sufouh 1, Al Sufouh, Dubai","Al Sufouh, Dubai","Al Warqaa 1, Al Warqaa, Dubai","Al Warqaa 2, Al Warqaa, Dubai","Al Warqaa 3, Al Warqaa, Dubai","Al Warqaa 4, Al Warqaa, Dubai","Al Warqaa, Dubai","Al Yousuf Towers, Jumeirah Village Circle (JVC), Dubai","Albizia, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Amaranta 2, Amaranta, Villanova, Dubailand, Dubai","Amaranta A, Amaranta 1, Amaranta, Villanova, Dubailand, Dubai","Amaranta B, Amaranta 1, Amaranta, Villanova, Dubailand, Dubai","Amaranta, Villanova, Dubailand, Dubai","Amargo, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Amber, Tiara Residences, Palm Jumeirah, Dubai","Amna, Al Habtoor City, Business Bay, Dubai","Arjan, Dubai","Armani Residence, Downtown Dubai, Dubai","Art Tower XV, Business Bay, Dubai","Aster, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Aurion Residence, Jumeirah Village Circle (JVC), Dubai","Avani Palm View Dubai Hotel & Suites, Dubai Media City, Dubai","Azizi Plaza, Al Furjan, Dubai","Azizi Star, Al Furjan, Dubai","BAB Tower, JVC District 11, Jumeirah Village Circle (JVC), Dubai","BLVD Heights Tower 2, BLVD Heights, Downtown Dubai, Dubai","Bab Alqarya Tower, JVC District 11, Jumeirah Village Circle (JVC), Dubai","Badrah, Dubai Waterfront, Dubai","Barsha Heights (Tecom), Dubai","Basswood, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Bayz by Danube, Business Bay, Dubai","Belgravia 3, JVC District 14, Jumeirah Village Circle (JVC), Dubai","Bellevue Tower 1, Bellevue Towers, Downtown Dubai, Dubai","Binghatti Gate, JVC District 15, Jumeirah Village Circle (JVC), Dubai","Binghatti Point, Dubai Silicon Oasis, Dubai","Bloom Heights, Jumeirah Village Circle (JVC), Dubai","Bloom Towers, Jumeirah Village Circle (JVC), Dubai","Blue Tower, Sheikh Zayed Road, Dubai","Boulevard Point, Downtown Dubai, Dubai","Bur Dubai, Dubai","Burj Al Nujoom, Downtown Dubai, Dubai","Burj Khalifa, Downtown Dubai, Dubai","Burj Vista 1, Burj Vista, Downtown Dubai, Dubai","Business Bay, Dubai","Camelia, Arabian Ranches 2, Dubai","Carson - The Drive, DAMAC Hills, Dubai","Carson Tower A, Carson - The Drive, DAMAC Hills, Dubai","Carson Tower B, Carson - The Drive, DAMAC Hills, Dubai","Casa Viva, Serena, Dubai","Cayan Tower, Dubai Marina, Dubai","Celestia Building, Dubai World Central, Dubai","Centaury, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Central Towers, Arjan, Dubai","China Cluster, International City, Dubai","Clayton Residency, Business Bay, Dubai","Club Villas, Dubai Hills Estate, Dubai","Collective, Dubai Hills Estate, Dubai","Contemporary, Discovery Gardens, Dubai","Creek Gate, Dubai Creek Harbour, The Lagoons, Dubai","Creekside 18 Tower A, Creekside 18, Dubai Creek Harbour, The Lagoons, Dubai","DAMAC Ghalia, JVC District 18, Jumeirah Village Circle (JVC), Dubai","DAMAC Hills 2 (Akoya by DAMAC), Dubai","DAMAC Maison Prive, Business Bay, Dubai","DAMAC Towers by Paramount Hotels and Resorts, Business Bay, Dubai","DMS Building, JVC District 14, Jumeirah Village Circle (JVC), Dubai","Damac Heights, Dubai Marina, Dubai","Damac Maison Bays Edge, Business Bay, Dubai","Damac Maison Majestine, Business Bay, Dubai","Deira, Dubai","Discovery Gardens, Dubai","Downtown Views, Downtown Dubai, Dubai","Dubai Marina Moon Tower, Dubai Marina, Dubai","Dubai Marina, Dubai","Dubai Residence Complex, Dubai","Dubai Silicon Oasis, Dubai","Dubailand, Dubai","Duja Tower, Sheikh Zayed Road, Dubai","Dumax Building, Arjan, Dubai","Dune Residency, Jumeirah Village Circle (JVC), Dubai","Elite Business Bay Residence, Business Bay, Dubai","Elite Residence, Dubai Marina, Dubai","Elite Sports Residence 10, Elite Sports Residence, Dubai Sports City, Dubai","Emirates Cluster, International City, Dubai","Euro Residence, Barsha Heights (Tecom), Dubai","Fairmont Dubai, Sheikh Zayed Road, Dubai","Falcon Tower, Business Bay, Dubai","Farishta Azizi, Al Furjan, Dubai","France Cluster, International City, Dubai","GMM Tower 1, JVC District 12, Jumeirah Village Circle (JVC), Dubai","Garden Homes Frond O, Garden Homes Palm Jumeirah, Palm Jumeirah, Dubai","Geepas Tower, Arjan, Dubai","Ghoroob Mirdif, Mirdif, Dubai","Glamz by Danube, Al Furjan, Dubai","Goldcrest Executive, JLT Cluster C, Jumeirah Lake Towers (JLT), Dubai","Golf Grove, Dubai Hills Estate, Dubai","Green Lakes 1, JLT Cluster S (Green Lake Towers), Jumeirah Lake Towers (JLT), Dubai","Green Lakes 2, JLT Cluster S (Green Lake Towers), Jumeirah Lake Towers (JLT), Dubai","Harbour Views 1, Harbour Views, Dubai Creek Harbour, The Lagoons, Dubai","Harbour Views 2, Harbour Views, Dubai Creek Harbour, The Lagoons, Dubai","Hassani 20, Nad Al Hamar, Dubai","Hayat Townhouses, Town Square, Dubai","Hera Tower, Dubai Sports City, Dubai","Hor Al Anz East, Hor Al Anz, Deira, Dubai","Hor Al Anz, Deira, Dubai","JVC District 10, Jumeirah Village Circle (JVC), Dubai","JVC District 11, Jumeirah Village Circle (JVC), Dubai","JVC District 12, Jumeirah Village Circle (JVC), Dubai","JVC District 14, Jumeirah Village Circle (JVC), Dubai","Janusia, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Jumeirah 1, Jumeirah, Dubai","Jumeirah 2, Jumeirah, Dubai","Jumeirah 3, Jumeirah, Dubai","Jumeirah Garden City, Al Satwa, Dubai","Jumeirah Gate Tower 1, The Address Residences Jumeirah Resort and Spa, Jumeirah Beach Residence (JBR), Dubai","Jumeirah Gate Tower 2, The Address Residences Jumeirah Resort and Spa, Jumeirah Beach Residence (JBR), Dubai","Jumeirah Living Marina Gate, Marina Gate, Dubai Marina, Dubai","Jumeirah Village Circle (JVC), Dubai","La Cote Tower 2, La Cote, Port De La Mer, La Mer, Jumeirah, Dubai","La Cote Tower 3, La Cote, Port De La Mer, La Mer, Jumeirah, Dubai","La Cote, Port De La Mer, La Mer, Jumeirah, Dubai","La Quinta, Villanova, Dubailand, Dubai","Lake Terrace, JLT Cluster D, Jumeirah Lake Towers (JLT), Dubai","Lamcy Plaza, Oud Metha, Bur Dubai, Dubai","Lamtara, Madinat Jumeirah Living, Umm Suqeim, Dubai","Lawnz by Danube, International City, Dubai","Leerbach Palace Tower, Arjan, Dubai","Legacy Nova, Jumeirah Park, Dubai","Legacy, Jumeirah Park, Dubai","Lila, Arabian Ranches 2, Dubai","Lootah Avenue, Motor City, Dubai","MAG 318, Business Bay, Dubai","MILANO by Giovanni Boutique Suites, Jumeirah Village Circle (JVC), Dubai","Maison VI, JVC District 11, Jumeirah Village Circle (JVC), Dubai","Majan, Dubailand, Dubai","Manazel Al Barsha, Al Barsha 1, Al Barsha, Dubai","Manazel Al Safa, Business Bay, Dubai","Maple At Dubai Hills Estate 1, Maple at Dubai Hills Estate, Dubai Hills Estate, Dubai","Maple At Dubai Hills Estate 2, Maple at Dubai Hills Estate, Dubai Hills Estate, Dubai","Maple At Dubai Hills Estate 3, Maple at Dubai Hills Estate, Dubai Hills Estate, Dubai","Marina Heights Tower, Dubai Marina, Dubai","Marina Sail, Dubai Marina, Dubai","May Residence, Jumeirah Village Circle (JVC), Dubai","Mayfair Tower, Business Bay, Dubai","Maze Tower, Sheikh Zayed Road, Dubai","Media Rotana Hotel, Barsha Heights (Tecom), Dubai","Mediterranean, Discovery Gardens, Dubai","Meera, Al Habtoor City, Business Bay, Dubai","Merano Tower, Business Bay, Dubai","Millennium Binghatti Residences, Business Bay, Dubai","Mira Oasis 1, Mira Oasis, Reem, Dubai","Mira Oasis 2, Mira Oasis, Reem, Dubai","Mira Oasis 3, Mira Oasis, Reem, Dubai","Miraclz Tower by Danube, Arjan, Dubai","Mirdif 44 Villas, Mirdif, Dubai","Mirdif Hills, Mirdif, Dubai","Mirdif, Dubai","Mogul, Discovery Gardens, Dubai","Muhaisnah 4, Muhaisnah, Dubai","Murjan 4, Murjan, Jumeirah Beach Residence (JBR), Dubai","Nad Al Hamar, Dubai","Nad Al Sheba 3, Nad Al Sheba, Dubai","Nad Al Sheba 4, Nad Al Sheba, Dubai","Naif, Deira, Dubai","Naseem Townhouses, Town Square, Dubai","National Bonds Plaza, Barsha Heights (Tecom), Dubai","New Dubai Gate 1, JLT Cluster Q, Jumeirah Lake Towers (JLT), Dubai","Noor Townhouses, Town Square, Dubai","Noora, Al Habtoor City, Business Bay, Dubai","Novem 2, JVC District 12, Jumeirah Village Circle (JVC), Dubai","O2 Tower, JVC District 14, Jumeirah Village Circle (JVC), Dubai","Ocean Heights, Dubai Marina, Dubai","Opera Grand, Downtown Dubai, Dubai","Oud Metha, Bur Dubai, Dubai","Oxford Boulevard, JVC District 15, Jumeirah Village Circle (JVC), Dubai","Oxford Building, JVC District 14, Jumeirah Village Circle (JVC), Dubai","Pacifica, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Palm Views East, Palm Views, Palm Jumeirah, Dubai","Paramount Hotel & Residences, Business Bay, Dubai","Park Heights 2, Park Heights, Dubai Hills Estate, Dubai","Park Place Tower, Sheikh Zayed Road, Dubai","Park Ridge Tower C, Park Ridge, Dubai Hills Estate, Dubai","Park View Tower, JVC District 14, Jumeirah Village Circle (JVC), Dubai","Pelham, DAMAC Hills, Dubai","Phase 2, International City, Dubai","Port De La Mer, La Mer, Jumeirah, Dubai","Port Saeed, Deira, Dubai","Princess Tower, Dubai Marina, Dubai","Queue Point, Liwan, Dubai","Ras Al Khor Industrial 3, Ras Al Khor Industrial, Ras Al Khor, Dubai","Reef Residence, JVC District 13, Jumeirah Village Circle (JVC), Dubai","Remal Tower, JVC District 13, Jumeirah Village Circle (JVC), Dubai","Richmond, DAMAC Hills, Dubai","Rigga Road, Al Rigga, Deira, Dubai","Rimal 1, Rimal, Jumeirah Beach Residence (JBR), Dubai","SAMA Townhouses, Town Square, Dubai","SLS Dubai Hotel & Residences, Business Bay, Dubai","Saeed Towers, Sheikh Zayed Road, Dubai","Sheikh Zayed Road, Dubai","Shorooq Mirdif, Mirdif, Dubai","Sidra 3, Sidra Villas, Dubai Hills Estate, Dubai","Signature Livings, Jumeirah Village Circle (JVC), Dubai","Silicon Gates 1, Silicon Gates, Dubai Silicon Oasis, Dubai","Siraj Tower, Arjan, Dubai","Sobha Creek Vistas, Sobha Hartland, Mohammed Bin Rashid City, Dubai","Sol Avenue, Business Bay, Dubai","Sol Bay, Business Bay, Dubai","South Residences, Jumeirah Village Circle (JVC), Dubai","Starz by Danube, Al Furjan, Dubai","Studio One Tower, Dubai Marina, Dubai","Sulafa Tower, Dubai Marina, Dubai","Sunrise Bay, EMAAR Beachfront, Dubai Harbour, Dubai","Sydney Tower, Jumeirah Village Circle (JVC), Dubai","The Address Downtown Hotel (Lake Hotel), Downtown Dubai, Dubai","The Address Dubai Mall, Downtown Dubai, Dubai","The Address Dubai Marina (Mall Hotel), Dubai Marina, Dubai","The Address Fountain Views 1, The Address Residence Fountain Views, Downtown Dubai, Dubai","The Address Fountain Views 2, The Address Residence Fountain Views, Downtown Dubai, Dubai","The Address Fountain Views 3, The Address Residence Fountain Views, Downtown Dubai, Dubai","The Address Residences Jumeirah Resort and Spa, Jumeirah Beach Residence (JBR), Dubai","The Address Sky View Tower 1, The Address Sky View Towers, Downtown Dubai, Dubai","The Address Sky View Tower 2, The Address Sky View Towers, Downtown Dubai, Dubai","The Address The Blvd, Downtown Dubai, Dubai","The Atria, Business Bay, Dubai","The Corner, Arjan, Dubai","The Cove, Dubai Creek Harbour, The Lagoons, Dubai","The Gardens Building 10, The Gardens, Dubai","The Gardens, Dubai","The Palm Tower, Palm Jumeirah, Dubai","The Plaza Residences, Jumeirah Village Circle (JVC), Dubai","The Square Tower, Jumeirah Village Circle (JVC), Dubai","The Torch, Dubai Marina, Dubai","The Wings, Arjan, Dubai","Tower 108, Jumeirah Village Circle (JVC), Dubai","Tower D, DAMAC Towers by Paramount Hotels and Resorts, Business Bay, Dubai","UNA Apartments, Town Square, Dubai","Umm Suqeim 1, Umm Suqeim, Dubai","Umm Suqeim 2, Umm Suqeim, Dubai","Umm Suqeim 3, Umm Suqeim, Dubai","Uptown Mirdif, Mirdif, Dubai","Vardon, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Vezul Tower, Business Bay, Dubai","Victoria, DAMAC Hills 2 (Akoya by DAMAC), Dubai","Vida Residence Downtown, Downtown Dubai, Dubai","Villanova, Dubailand, Dubai","Warsan 4, Al Warsan, Dubai","Warsan Village, International City, Dubai","Wasl Bay, Al Garhoud, Dubai","Wasl Port Views, Al Mina, Dubai","Wasl Vita, Jumeirah 1, Jumeirah, Dubai","Wembley Tower, Dubai Sports City, Dubai","Wilton Terraces 1, Sobha Hartland, Mohammed Bin Rashid City, Dubai","Wilton Terraces 2, Sobha Hartland, Mohammed Bin Rashid City, Dubai","Windsor Residence, Dubai Residence Complex, Dubai","Yas 1, Barsha Heights (Tecom), Dubai","Zen Cluster, Discovery Gardens, Dubai","Zinnia, DAMAC Hills 2 (Akoya by DAMAC), Dubai")
    place=st.selectbox("Places",places)
    #size = st.text_input("Enter the size of the property")
    num = st.slider(label="Input the size of the property", min_value=0, max_value=20000, value=2200, step=1)

    ok=st.button("Calculate Rent")
    if ok:
        rent = predict_price(place,num)
        st.subheader(f"The estimated yearly rent is (AED){rent}")
